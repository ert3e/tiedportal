//
//  AddPodcast_ViewController.m
//  VideoPodcast
//
//  Created by Samir Vohra on 17/03/16.
//  Copyright (c) 2016 mobileappdeveloper. All rights reserved.
//

#import "AddPodcast_ViewController.h"

@interface AddPodcast_ViewController ()

@end

@implementation AddPodcast_ViewController
@synthesize btn_LeftCircle,btn_RightCircle,tblview;

- (void)viewDidLoad
{
    [super viewDidLoad];
    tblview.separatorColor=APP_COLOR;
    tblview.separatorStyle=UITableViewCellSeparatorStyleSingleLine;
    
    [btn_LeftCircle setImage:[self imagedraw:NO] forState:UIControlStateNormal];
    [btn_RightCircle setImage:[self imagedraw:YES] forState:UIControlStateNormal];
    
    arr_tbl=[[NSMutableArray alloc]init];
    [arr_tbl addObject:@"SEARCH FOR A FEED OR ADD PODCAST FEED ADDRESS"];
    [arr_tbl addObject:@"MY PLAYLIST"];
    [arr_tbl addObject:@"MY PODCASTS"];
    [arr_tbl addObject:@"MY DOWNLOADS"];
    [arr_tbl addObject:@"THE DAILY MOTOR"];
    [arr_tbl addObject:@"THE DRIVER ADITION"];
    [arr_tbl addObject:@"BAJA 100"];
    [arr_tbl addObject:@"24HR RACER"];
    [arr_tbl addObject:@"TOYOTA CHILE VOLCANO"];
    [arr_tbl addObject:@"GT RACER"];
}

-(UIImage *)imagedraw:(BOOL) fill{
    
    CGSize size=CGSizeMake(30, 30);
    
    //UIGraphicsBeginImageContext(size);
    UIGraphicsBeginImageContextWithOptions(size, NO, 0.0);
    // draw original image into the context
    // get the context for CoreGraphics
    
    CGContextRef ctx = UIGraphicsGetCurrentContext();
    CGContextSetLineWidth(ctx, 3);
    CGContextSetStrokeColorWithColor(ctx, APP_COLOR.CGColor);// set stroking color and draw circle
    // make circle rect 5 px from border
    CGRect circleRect = CGRectMake(0,0,
                                   30,
                                   30);
    circleRect = CGRectInset(circleRect, 5, 5);
    
    // draw circle
    CGContextStrokeEllipseInRect(ctx, circleRect);
    if (fill) {
        CGContextFillEllipseInRect(ctx, circleRect);
    }
    
    // make image out of bitmap context
    UIImage *retImage = UIGraphicsGetImageFromCurrentImageContext();
    // free the context
    UIGraphicsEndImageContext();
    return retImage;
    
}

-(CAShapeLayer *)btn_circlewithplus
{
//    UIBezierPath* bezierPath2 = UIBezierPath.bezierPath;
//    
//    [bezierPath2 addArcWithCenter:CGPointMake(20, 20) radius:10 startAngle:0 endAngle:2 * M_PI clockwise:YES];
//    [bezierPath2 moveToPoint:CGPointMake(20, 10)];
//    [bezierPath2 addLineToPoint:CGPointMake(20,20)];
//    [UIColor.blackColor setStroke];
//    bezierPath2.lineWidth = 2;
//    [bezierPath2 stroke];
//    
//    CAShapeLayer *shapeLayer2 = [CAShapeLayer layer];
//    shapeLayer2.frame = CGRectMake(0, 0, 30, 30);
//    shapeLayer2.path = bezierPath2.CGPath;
//    shapeLayer2.fillColor = [UIColor clearColor].CGColor;
//    shapeLayer2.strokeColor = [UIColor blackColor].CGColor;
//    shapeLayer2.lineWidth = 2;
//    return  shapeLayer2;

    UIBezierPath* bezierPath2 = UIBezierPath.bezierPath;
    [bezierPath2 addArcWithCenter:CGPointMake(14, 14) radius:10 startAngle:0 endAngle:2 * M_PI clockwise:YES];
    [bezierPath2 moveToPoint:CGPointMake(14, 10)];
    [bezierPath2 addLineToPoint:CGPointMake(14,18)];
    
    [bezierPath2 moveToPoint:CGPointMake(10, 14)];
    [bezierPath2 addLineToPoint:CGPointMake(18, 14)];
    
    [UIColor.blackColor setStroke];
    bezierPath2.lineWidth = 2;
    [bezierPath2 stroke];
    
    CAShapeLayer *shapeLayer2 = [CAShapeLayer layer];
    shapeLayer2.frame = CGRectMake(0, 0, 30, 30);
    shapeLayer2.path = bezierPath2.CGPath;
    shapeLayer2.fillColor = [UIColor clearColor].CGColor;
    shapeLayer2.strokeColor = [UIColor blackColor].CGColor;
    shapeLayer2.lineWidth = 3;
    return  shapeLayer2;
}

#pragma mark  TableView Delegate
- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath
{
    return screenWidth/6.3;
}
- (NSInteger)tableView:(UITableView *)tableView numberOfRowsInSection:(NSInteger)section
{
    return arr_tbl.count;
}

- (UITableViewCell *)tableView:(UITableView *)tableView cellForRowAtIndexPath:(NSIndexPath *)indexPath
{
    static NSString *CellIdentifier = @"Cell";
    UITableViewCell *cell = [tableView dequeueReusableCellWithIdentifier:CellIdentifier];
    if (cell == nil)
    {
        cell = [[UITableViewCell alloc] initWithStyle:UITableViewCellStyleDefault reuseIdentifier:CellIdentifier];
    }
    
    if (indexPath.row==0) {
        
//        cell.textLabel.text=@"SEARCH FOR A FEED OR ADD PODCAST FEED ADDRESS";
//        cell.textLabel.font=[UIFont systemFontOfSize:8];
//        cell.textLabel.backgroundColor=APP_COLOR;
//         cell.textLabel.frame=CGRectMake(cell.textLabel.frame.origin.x, cell.textLabel.frame.origin.y, cell.textLabel.frame.size.width, 10);
        
        
//        UILabel *lbl = [[UILabel alloc] initWithFrame:CGRectMake(10,((screenWidth/6.3)-30)/2, tblview.frame.size.width-100, 30)];
//        lbl.font = [UIFont systemFontOfSize:10];
//        lbl.textColor    = [UIColor whiteColor];
//        //lbl.textAlignment = UITextAlignmentCenter;
//        [lbl setTextAlignment:NSTextAlignmentCenter];
//        
//        [lbl setText:@"SEARCH FOR A FEED OR ADD PODCAST FEED ADDRESS"];
//        [lbl setBackgroundColor:APP_COLOR];
//        [cell.contentView addSubview:lbl];

        UITextField *lbl = [[UITextField alloc] initWithFrame:CGRectMake(10,((screenWidth/6.3)-30)/2, tblview.frame.size.width-100, 30)];
        lbl.font = [UIFont systemFontOfSize:10];
        lbl.textColor    = [UIColor whiteColor];
        //lbl.textAlignment = UITextAlignmentCenter;
        lbl.attributedPlaceholder = [[NSAttributedString alloc] initWithString:@"SEARCH FOR A FEED OR ADD PODCAST FEED ADDRESS" attributes:@{NSForegroundColorAttributeName: [UIColor whiteColor]}];
        [lbl setTextAlignment:NSTextAlignmentLeft];
//        [lbl setValue:[UIColor whiteColor]
//                        forKeyPath:@"_placeholderLabel.textColor"];
//        [lbl setPlaceholder:@"SEARCH FOR A FEED OR ADD PODCAST FEED ADDRESS"];
        [lbl setBackgroundColor:APP_COLOR];
        [cell.contentView addSubview:lbl];

        UIButton *accessoryButton = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 30, 30)];
        [accessoryButton setTintColor:[UIColor grayColor]];
        UIImage *accImage =[self imagedraw:NO];
        [accessoryButton setImage:accImage forState: UIControlStateNormal];
      //  [accessoryButton addTarget:self action:@selector(yourMethodName) forControlEvents:UIControlEventTouchUpInside];
        [cell setAccessoryView:accessoryButton];
    }
    
    else if(indexPath.row<4)
    {
    
        cell.textLabel.text = [arr_tbl objectAtIndex:indexPath.row];
        cell.textLabel.textColor=APP_COLOR;
        cell.textLabel.font=[UIFont systemFontOfSize:10];
        
        UIButton *accessoryButton = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 30, 30)];
        [accessoryButton setTintColor:[UIColor grayColor]];
        UIImage *accImage =[self imagedraw:NO];
        [accessoryButton setImage:accImage forState: UIControlStateNormal];
      //  [accessoryButton addTarget:self action:@selector(yourMethodName) forControlEvents:UIControlEventTouchUpInside];
        [cell setAccessoryView:accessoryButton];
    }
    
    else
    {
        cell.textLabel.text = [arr_tbl objectAtIndex:indexPath.row];
        cell.textLabel.textColor=APP_COLOR;
        cell.textLabel.font=[UIFont systemFontOfSize:10];
        
        UIButton *accessoryButton = [[UIButton alloc] initWithFrame:CGRectMake(0, 0, 30, 30)];
        [accessoryButton setTintColor:[UIColor grayColor]];
        UIImage *accImage =[self imagedraw:NO];
        //[accessoryButton setImage:accImage forState: UIControlStateNormal];
        [accessoryButton setBackgroundColor:APP_COLOR];
        accessoryButton.layer.mask=[self btn_circlewithplus];
        [accessoryButton addTarget:self action:@selector(testMethod) forControlEvents:UIControlEventTouchUpInside];
        [cell setAccessoryView:accessoryButton];
        
    }
    
    // Configure the cell...
    
    return cell;
}

-(void)tableView:(UITableView *)tableView didSelectRowAtIndexPath:(NSIndexPath *)indexPath{
    
    
    NSLog(@"....................%ld",(long)indexPath.row);
    if (indexPath.row==4) {
        
        [self performSegueWithIdentifier:@"id_segue_podcast" sender:self];
        
    }

}

-(void)tableView:(UITableView *)tableView willDisplayCell:(UITableViewCell *)cell forRowAtIndexPath:(NSIndexPath *)indexPath
{
    if ([cell respondsToSelector:@selector(setSeparatorInset:)]) {
        [cell setSeparatorInset:UIEdgeInsetsZero];
    }
   if ([cell respondsToSelector:@selector(setLayoutMargins:)]) {
        [cell setLayoutMargins:UIEdgeInsetsZero];
    }
    
    CGRect fr=cell.frame;
    cell.frame=CGRectMake(cell.frame.origin.x+10, cell.frame.origin.y, cell.frame.size.width-20, cell.frame.size.height);
    
    cell.backgroundColor=[APP_COLOR colorWithAlphaComponent:0.4];
    
    [UIView animateWithDuration:0.5 animations:^{
        cell.frame=fr;
        cell.backgroundColor=[UIColor whiteColor];
    }];
    


    
}
-(void)viewDidLayoutSubviews
{
    if ([tblview respondsToSelector:@selector(setSeparatorInset:)]) {
        [tblview setSeparatorInset:UIEdgeInsetsZero];
    }
    
    if ([tblview respondsToSelector:@selector(setLayoutMargins:)]) {
        [tblview setLayoutMargins:UIEdgeInsetsZero];
    }
}

/*
#pragma mark - Navigation

// In a storyboard-based application, you will often want to do a little preparation before navigation
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // Get the new view controller using [segue destinationViewController].
    // Pass the selected object to the new view controller.
}
*/

- (IBAction)act_LeftCircle:(id)sender {
    
    [self.navigationController popViewControllerAnimated:YES];
    
}

- (IBAction)act_RightCircle:(id)sender {
}

-(void)testMethod
{
    
}

@end
